---
layout: default
title: Метод Friends.Get
permalink: friends/get/
comments: true
---
# Метод Friends.Get
Возвращает список идентификаторов друзей пользователя или расширенную информацию о друзьях пользователя (при использовании параметра **fields**).

Этот метод можно вызвать с [сервисным ключом доступа](https://vk.com/dev/access_token?f=3.%20Сервисный%20ключ%20доступа). Возвращаются только общедоступные данные.

Этот метод можно вызвать с [ключом доступа пользователя](https://vk.com/dev/access_token).

Страница документации ВКонтакте [friends.get](https://vk.com/dev/friends.get).

## Синтаксис
``` csharp
public VkCollection<User> Get(FriendsGetParams @params, bool skipAuthorization = false)
```

## Параметры
Класс **`FriendsGetParams`** содержит следующие свойства:

+ **UserId** - Идентификатор пользователя, для которого необходимо получить список друзей. Если параметр не задан, то считается, что он равен идентификатору текущего пользователя (справедливо для вызова с передачей *access_token*).
+ **Order** - Порядок, в котором нужно вернуть список друзей. Допустимые значения: 
    + **hints** - сортировать по рейтингу, аналогично тому, как друзья сортируются в разделе **Мои друзья (Это значение доступно только для Standalone-приложений с ключом доступа, полученным по схеме Implicit Flow.)**. 
    + **random** - возвращает друзей в случайном порядке. 
    + **mobile** - возвращает выше тех друзей, у которых установлены мобильные приложения. 
    + **name** - сортировать по имени. Данный тип сортировки работает медленно, так как сервер будет получать всех друзей а не только указанное количество *count*. (работает только при переданном параметре *fields*) 
строка
+ **ListId** - Идентификатор списка друзей, полученный методом friends.getLists, друзей из которого необходимо получить. Данный параметр учитывается, только когда параметр user_id равен идентификатору текущего пользователя.
Данный параметр доступен только для Desktop-приложений. положительное число
+ **Count** - Количество друзей, которое нужно вернуть. (по умолчанию – все друзья) положительное число
+ **Offset** - Смещение, необходимое для выборки определенного подмножества друзей. положительное число
+ **Fields** - Список дополнительных полей, которые необходимо вернуть. 
Доступные значения: nickname, domain, sex, bdate, city, country, timezone, photo_50, photo_100, photo_200_orig, has_mobile, contacts, education, online, relation, last_seen, status, can_write_private_message, can_see_all_posts, can_post, universities список строк, разделенных через запятую
+ **NameCase** - Падеж для склонения имени и фамилии пользователя. Возможные значения: именительный – nom, родительный – gen, дательный – dat, винительный – acc, творительный – ins, предложный – abl. По умолчанию nom. строка

## Результат
После успешного выполнения возвращает список идентификаторов (id) друзей пользователя, если параметр fields не использовался. 
При использовании параметра fields  возвращает список объектов пользователей, но не более 5000.

## Исключения
+ **AccessTokenInvalidException** - не задан или используется неверный AccessToken.

## Пример
```csharp
// Получение идентификаторов друзей Павла Дурова.
var users = api.Friends.Get(new VkNet.Model.RequestParams.FriendsGetParams
{
    UserId = 1,
    Count = 10, 
});

using VkNet.Enums.Filters;

// Получение идентификаторов, имен и фамилий первых трех друзей Павла Дурова.
var users = api.Friends.Get(new VkNet.Model.RequestParams.FriendsGetParams
{
    UserId = 1,
    Count = 10,
    Fields = ProfileFields.FirstName,
});

// Получить имена друзей
var p = users.Select(x => x.FirstName);
foreach(var item in p)
{
    //logic   
}

// Получить фамилии друзей
var p = users.Select(x => x.LastName);
foreach(var item in p)
{
    //logic
}

// Получить друзей онлайн
var p = users.Select(x => x.Online);
foreach(var item in p)
{
    //logic
}
```

## Версия Вконтакте API v.5.44
Дата обновления: 20.01.2016 9:49:10
