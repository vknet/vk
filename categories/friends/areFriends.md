---
layout: default
title: Метод Friends.AreFriends
permalink: friends/areFriends/
comments: true
---
# Метод Friends.AreFriends
Возвращает информацию о том, добавлен ли текущий пользователь в друзья у указанных пользователей.

Страница документации ВКонтакте [friends.areFriends](https://vk.com/dev/friends.areFriends).

## Синтаксис
``` csharp
public IDictionary<long, FriendStatus> AreFriends([NotNull]IEnumerable<long> userIds, bool? needSign = null)
```

## Параметры
+ **userIds** — Идентификаторы пользователей, статус дружбы с которыми нужно проверить. список целых чисел, разделенных запятыми, обязательный параметр
+ **needSign** — 1 – необходимо вернуть поле sign которое равно: 
md5("{id}_{user_id}_{friends_status}_{application_secret}"), где id - это идентификатор пользователя, для которого выполняется запрос. 
и позволяет на сервере убедиться что данные не были подделаны на клиенте. 
0 – поле sign возвращать не нужно. флаг, может принимать значения 1 или 0

## Результат
После успешного выполнения возвращает массив объектов status, каждый из которых содержит следующие поля: 

user_id — идентификатор пользователя (из числа переданных в параметре user_ids); 
friend_status — статус дружбы с пользователем: 

0 – пользователь не является другом, 
1 – отправлена заявка/подписка пользователю, 
2 – имеется входящая заявка/подписка от пользователя, 
3 – пользователь является другом; 

request_message — текст сообщения, прикрепленного к заявке в друзья (если есть). 
read_state — статус заявки (0 — не просмотрена, 1 — просмотрена), возвращается только если friend_status = 2;

## Исключения
+ **AccessTokenInvalidException** — не задан или используется неверный AccessToken.
+ **ArgumentNullException** — параметр uids имеет значение null.

## Пример
```csharp
// Получение информации о том добавлен ли текущий пользователь в друзья у указанных пользователей и проверяет наличие исходящей или входящей заявки в друзья (подписки).
var uids = new long[] {176382, 298320, 389320};
var dict = vk.Friends.AreFriends(uids);
if (dict[298320] == FriendStatus.NotFriend)
{
  .....
}
```

## Версия Вконтакте API v.5.44
Дата обновления: 25.01.2016 13:09:06
